{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamEdit.js","components/streams/StreamList.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createHistory","fetchStream","id","_ref3","Object","asyncToGenerator","regenerator_default","a","mark","_callee3","dispatch","response","wrap","_context3","prev","next","streams","get","concat","sent","type","payload","data","stop","this","_x4","apply","arguments","StreamForm","renderInput","_ref","input","label","meta","react_default","createElement","className","assign","autoComplete","_this","renderError","onSubmit","formValues","props","error","_ref2","touched","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","streams_StreamForm","connect","_callee","getState","userId","_context","auth","post","objectSpread","history","push","_x","_x2","StreamEdit","editStream","match","params","stream","initialValues","_","pick","state","ownProps","_ref4","_callee4","_context4","patch","_x5","StreamList","fetchStreams","Link","to","map","key","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","values","_callee2","_context2","_x3","Modal","ReactDOM","createPortal","onClick","onDismiss","event","stopPropagation","content","actions","document","querySelector","StreamDelete","Fragment","deleteStream","components_Modal","renderContent","renderActions","_ref5","_callee5","_context5","delete","_x6","StreamShow","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","_this$props$stream","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","_this2","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","components_GoogleAuth","App","Router","components_Header","Switch","Route","path","exact","INITIAL_STATE","combineReducers","length","undefined","action","formReducer","defineProperty","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","es","components_App"],"mappings":"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","file":"static/js/main.d1616b94.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport default axios.create({\n  baseURL: 'http://localhost:3001'\n})\n","import createHistory from 'history/createBrowserHistory'\n\nexport default createHistory()\n","import streams from '../apis/streams'\nimport history from '../history'\nimport {\n  SIGN_IN,\n  SIGN_OUT,\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM\n} from './types'\n\nexport const signIn = (userId) => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  }\n}\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  }\n}\n\nexport const createStream = (formValues) => {\n  return async ( dispatch, getState ) => {\n    const { userId } = getState().auth\n    const response = await streams.post('/streams', { ...formValues, userId } )\n\n    dispatch({ type: CREATE_STREAM, payload: response.data})\n    history.push('/')\n  }\n}\n\nexport const fetchStreams = () => async dispatch => {\n  const response = await streams.get('/streams')\n\n  dispatch({ type: FETCH_STREAMS, payload: response.data})\n}\n\nexport const fetchStream = (id) => async dispatch => {\n  const response = await streams.get(`/streams/${id}`)\n\n  dispatch({ type: FETCH_STREAM, payload: response.data})\n}\n\nexport const editStream = (id, formValues) => async dispatch => {\n  const response = await streams.patch(`/streams/${id}`, formValues)\n\n  dispatch({ type: EDIT_STREAM, payload: response.data})\n  history.push('/')\n}\n\nexport const deleteStream = (id) => async dispatch => {\n  await streams.delete(`/streams/${id}`)\n\n  dispatch({ type: DELETE_STREAM, payload: id })\n  history.push('/')\n}\n","export const SIGN_IN = 'SIGN_IN'\nexport const SIGN_OUT = 'SIGN_OUT'\nexport const CREATE_STREAM = 'CREATE_STREAM'\nexport const FETCH_STREAMS = 'FETCH_STREAMS'\nexport const FETCH_STREAM = 'FETCH_STREAM'\nexport const DELETE_STREAM = 'DELETE_STREAM'\nexport const EDIT_STREAM = 'EDIT_STREAM'\n","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\n\nclass StreamForm extends React.Component {\n  renderError({ error, touched }) {\n    if (touched && error) {\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      )\n    }\n  }\n  renderInput = ({ input, label, meta }) => {\n    return (\n      <div className=\"field\">\n        <label>{label}</label>\n        <input {...input} autoComplete='off'/>\n        {this.renderError(meta)}\n      </div>\n    )\n  }\n\nonSubmit = (formValues) => {\n  this.props.onSubmit(formValues)\n}\n\n  render() {\n    return (\n      <form onSubmit={this.props.handleSubmit(this.onSubmit)} className=\"ui form error\">\n        <Field name='title' component={this.renderInput} label=\"Enter Title\"/>\n        <Field name='description' component={this.renderInput} label=\"Enter Description\"/>\n        <button className=\"ui button primary\">Submit</button>\n      </form>\n    )\n  }\n}\n\nconst validate =(formValues) => {\n  // Called every time the component is rendered\n  const errors = {}\n  if (!formValues.title) {\n    errors.title = 'Please enter a title'\n  }\n  if (!formValues.description) {\n    errors.description = 'Please enter a description'\n  }\n  return errors\n}\n\nexport default reduxForm({\n  form: 'streamForm',\n  validate: validate\n})(StreamForm)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { createStream } from '../../actions'\nimport StreamForm from './StreamForm'\n\nclass StreamCreate extends React.Component {\n\nonSubmit = (formValues) => {\n  this.props.createStream(formValues)\n}\n\n  render() {\n    return (\n      <div>\n        <h3>Create a Stream</h3>\n        <StreamForm onSubmit={this.onSubmit} />\n      </div>\n    )\n  }\n}\n\nexport default connect(null, { createStream })(StreamCreate)\n","import _ from 'lodash'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport { fetchStream, editStream } from '../../actions'\nimport StreamForm from './StreamForm'\n\nclass StreamEdit extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id)\n  }\n\n  onSubmit = (formValues) => {\n    this.props.editStream(this.props.match.params.id, formValues)\n  }\n  \n  render () {\n      if (!this.props.stream) {\n        return <div>Loading...</div>\n      } else {\n        return (\n          <div>\n            <h3>Edit a Stream</h3>\n            <StreamForm\n              initialValues={_.pick(this.props.stream, 'title', 'description')}\n              onSubmit={this.onSubmit}\n            />\n          </div>\n        )\n    } // pick from lodash makes a new object with only the properties we list.\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] }\n}\n\nexport default connect(mapStateToProps, { fetchStream, editStream })(StreamEdit)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { fetchStreams } from '../../actions'\n\n// class because we want our streams to be fetched when the component mounts\n\nclass StreamList extends React.Component {\n  componentDidMount() {\n    this.props.fetchStreams()\n  }\n\n  renderAdmin (stream) {\n    if (stream.userId === this.props.userId) {\n      return (\n        <div className=\"right floated content\">\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\n            Edit\n          </Link>\n          <Link to={`/streams/delete/${stream.id}`}className=\"ui button negative\">\n            Delete\n          </Link>\n        </div>\n      )\n    }\n  }\n\n  renderList () {\n    return this.props.streams.map(stream => {\n      return (\n        <div className=\"item\" key={stream.id}>\n          {this.renderAdmin(stream)}\n          <div className=\"content\">\n            <Link to={`/streams/${stream.id}`} className='header'>{stream.title}</Link>\n            <div className=\"description\">{stream.description}</div>\n          </div>\n        </div>\n      )\n    })\n  }\n\n  renderCreate () {\n    if (this.props.isSignedIn) {\n      return (\n        <div style={{ textAlign: 'right'}}>\n          <Link to=\"/streams/new\" className=\"ui button primary\">\n            Create Stream\n          </Link>\n        </div>\n      )\n    }\n  }\n\n  render () {\n    return (\n      <div>\n        <h2>Streams</h2>\n        <div className=\"ui celled list\">{this.renderList()}</div>\n        {this.renderCreate()}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    streams: Object.values(state.streams),\n    userId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { fetchStreams }\n)(StreamList)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nconst Modal = props => {\n  return ReactDOM.createPortal(\n    <div\n    onClick={props.onDismiss}\n    className=\"ui dimmer modals visible active\"\n    >\n      <div\n      onClick={(event) => event.stopPropagation()}\n      className=\"ui standard modal visible active\"\n      >\n        <div className=\"header\">{props.title}</div>\n        <div className=\"content\">{props.content}</div>\n        <div className=\"action\">{props.actions}</div>\n      </div>\n    </div>,\n    document.querySelector('#modal')\n  )\n}\n\nexport default Modal\n","import React from 'react'\nimport Modal from '../Modal'\nimport history from '../../history'\nimport { connect } from 'react-redux'\nimport { fetchStream, deleteStream } from '../../actions'\nimport { Link } from 'react-router-dom'\n\nclass StreamDelete extends React.Component {\n  componentDidMount() {\n    this.props.fetchStream(this.props.match.params.id)\n  }\n  renderActions() {\n    return (\n      <React.Fragment>\n        <div>\n          <button onClick={() => this.props.deleteStream(this.props.match.params.id) }className=\"ui button negative\">Delete</button>\n          <Link to=\"/\" className=\"ui button\">Cancel</Link>\n        </div>\n      </React.Fragment>\n    )\n  }\n\n  renderContent() {\n    if (!this.props.stream) {\n      return 'Are you sure you want to delete this stream?'\n    } else {\n      return `Are you sure you want to delete the stream with title: ${this.props.stream.title}`\n    }\n  }\n  render () {\n    return (\n        <Modal\n          title=\"Delete Stream\"\n          content={this.renderContent()}\n          actions={this.renderActions()}\n          onDismiss={() => history.push('/')}\n        />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] }\n}\n\nexport default connect(mapStateToProps, { fetchStream, deleteStream })(StreamDelete)\n","import React from 'react'\nimport flv from 'flv.js'\nimport { connect } from 'react-redux'\nimport { fetchStream } from '../../actions'\n\nclass StreamShow extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.videoRef = React.createRef()\n  }\n\n  componentDidMount() {\n    const { id } = this.props.match.params\n    this.props.fetchStream(id)\n    this.buildPlayer()\n  }\n\n  componentDidUpdate() {\n    this.buildPlayer()\n  }\n\n  componentWillUnmount() {\n    this.player.destroy()\n  }\n\n  buildPlayer() {\n    if (this.player || !this.props.stream) {\n      return\n    }\n\n    const { id } = this.props.match.params\n\n    this.player = flv.createPlayer({\n      type: 'flv',\n      url: `http://localhost:8000/live/${id}.flv`\n    })\n    this.player.attachMediaElement(this.videoRef.current)\n    this.player.load()\n  }\n\n  render () {\n    if (!this.props.stream) {\n      return <div>Loading...</div>\n    } else {\n\n      const { title, description } = this.props.stream\n      return (\n        <div>\n          <video ref={this.videoRef} style={{ width: '100%' }} controls={true} />\n          <h1>{title}</h1>\n          <h4>{description}</h4>\n        </div>\n      )\n    }\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id]}\n}\n\nexport default connect(mapStateToProps, { fetchStream })(StreamShow)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { signIn, signOut } from '../actions'\n\nclass GoogleAuth extends React.Component {\n\n  componentDidMount() {\n    window.gapi.load('client:auth2', () => {\n      window.gapi.client.init( {\n        clientId: '326254808743-oqfspace8f7v5i0irb7bv37m7m1gn08l.apps.googleusercontent.com',\n        scope: 'email'\n      }).then(() => {\n        this.auth = window.gapi.auth2.getAuthInstance()\n        this.onAuthChange(this.auth.isSignedIn.get())\n        // Update our signed in status in props with any auth change.\n        this.auth.isSignedIn.listen(this.onAuthChange)\n      })\n    })\n  }\n\n  // Sign in with console: gapi.auth2.getAuthInstance().signIn()\n  // Sign out with console: gapi.auth2.getAuthInstance().signOut()\n\n  onAuthChange = (isSignedIn) => {\n    // this.setState({ isSignedIn: this.auth.isSignedIn.get()})\n    if (isSignedIn) {\n      this.props.signIn(this.auth.currentUser.get().getId())\n    } else {\n      this.props.signOut()\n    }\n  }\n\n  onSignInClick = () => {\n    this.auth.signIn()\n  }\n\n  onSignOutClick = () => {\n    this.auth.signOut()\n  }\n\n  renderAuthButton() {\n    if (this.props.isSignedIn === null) {\n      return null\n    } else if (this.props.isSignedIn) {\n      return (\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\n          <i className=\"google icon\" />\n          Sign Out\n        </button>\n      )\n    } else {\n      return (\n        <button onClick={this.onSignInClick} className=\"ui red google button\">\n          <i className=\"google icon\" />\n          Sign In with Google\n        </button>\n      )\n    }\n  }\n  render() {\n    return <div>{this.renderAuthButton()}</div>\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { isSignedIn: state.auth.isSignedIn}\n}\n\nexport default connect(\n  mapStateToProps,\n  { signIn, signOut}\n)(GoogleAuth)\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport GoogleAuth from './GoogleAuth'\n\nconst Header = () => {\n  return (\n    <div className=\"ui secondary pointing menu\">\n    <Link to=\"/\" className=\"item\">\n      TipStream\n    </Link>\n      <div className=\"right menu\">\n        <Link to=\"/\" className=\"item\">\n          All Streams\n        </Link>\n        <GoogleAuth />\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport { Router, Route, Switch } from 'react-router-dom'\nimport StreamCreate from './streams/StreamCreate'\nimport StreamEdit from './streams/StreamEdit'\nimport StreamList from './streams/StreamList'\nimport StreamDelete from './streams/StreamDelete'\nimport StreamShow from './streams/StreamShow'\nimport history from '../history'\n\nimport Header from './Header'\n\nconst App = () => {\n  return (\n    <div className=\"ui container\">\n      <Router history={history}>\n        <div>\n          <Header />\n          <Switch>\n            <Route path=\"/\" exact component={StreamList} />\n            <Route path=\"/streams/new\" exact component={StreamCreate} />\n            <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\n            <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\n            <Route path=\"/streams/:id\" exact component={StreamShow} />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","import { SIGN_IN, SIGN_OUT } from '../actions/types'\n\nconst INITIAL_STATE = {\n  isSignedIn: null,\n  userId: null\n}\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case SIGN_IN:\n      return {...state, isSignedIn: true, userId: action.payload}\n    case SIGN_OUT:\n      return {...state, isSignedIn: false, userId: null}\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport { reducer as formReducer } from 'redux-form'\nimport authReducer from './authReducer'\nimport streamReducer from './streamReducer'\n\nexport default combineReducers({\n  auth: authReducer,\n  form: formReducer,\n  streams: streamReducer\n})\n","import _ from 'lodash'\n\nimport {\n  CREATE_STREAM,\n  FETCH_STREAM,\n  FETCH_STREAMS,\n  DELETE_STREAM,\n  EDIT_STREAM\n} from '../actions/types'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_STREAM:\n      return { ...state, [action.payload.id]: action.payload }\n    case CREATE_STREAM:\n      return { ...state, [action.payload.id]: action.payload }\n    case EDIT_STREAM:\n      return { ...state, [action.payload.id]: action.payload }\n    case FETCH_STREAMS:\n      return { ...state, ..._.mapKeys(action.payload, 'id') }\n      // Take the big object produced by mapkeys and put them all\n      // in our new object with the keys being their ids\n    case DELETE_STREAM:\n      return _.omit(state, action.payload)\n      // The payload is the id itself as we set it in actions/index.js\n    default:\n      return state\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport reduxThunk from 'redux-thunk'\n\nimport App from './components/App'\nimport reducers from './reducers'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n)\n"],"sourceRoot":""}